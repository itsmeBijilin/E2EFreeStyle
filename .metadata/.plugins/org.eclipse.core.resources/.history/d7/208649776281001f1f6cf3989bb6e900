package pageObjects;

import java.util.List;

import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;

import commonActions.CommonActions;
import testSuite.BaseClass;

public class TC_08_ALGT_Cars_P8 extends BasePage {
	@FindBy(xpath = "//*[@data-hook='cars-page_page-heading']")
	private WebElement carTxtValidation;

	@FindBy(xpath = "//*[@class='Button__ButtonText-sc-1ececxa-0 fFLZUm']")
	private List<WebElement> availableCars;

	@FindBy(xpath = "//*[@data-hook='cars-page_continue']")
	private WebElement carContinueBtn;

	public TC_08_ALGT_Cars_P8(WebDriver driver) {
		super(driver);
	}

	public void carTxtValidation() throws Exception {
		Thread.sleep(5000);
		System.out.println(driver.getCurrentUrl());
		if(driver.getCurrentUrl().contains("cars")) {
			System.out.println("get current url"+driver.getCurrentUrl());
			System.out.println("Validated, In Cars page");
			BaseClass.logger.info("Validated, In Cars page");
		}
	}

	public void selectCars() throws Exception {
		Thread.sleep(1000);
		int len = availableCars.size();
		for (int i = 0; i <= len - 1; i++) {
			String input = availableCars.get(i).getText();
			if (!input.contains("N/A")) {
				availableCars.get(i).click();
				BaseClass.logger.info("Car is selected");
				break;
			}
		}
	}

	public void clickCarContinueButton() {
		new CommonActions().explicitWait(carContinueBtn, "Car Continue Button");
		new CommonActions().doClick(carContinueBtn, "car Continue Button", carContinueBtn);
	}
}
